## Http

存在的问题

1. 队头阻塞

在 HTTP 请求应答过程中，如果出现了某种情况，导致响应一直未能完成，那后面所有的请求就会一直阻塞着，这种情况叫队头阻塞。

2. 低效的 TCP 利用

由于 TCP 慢启动机制，导致每个 TCP 连接在一开始的时候传输速率都不高，在处理多个请求后，才会慢慢达到“合适”的速率。对于请求数据量很小的 HTTP 请求来说，这种情况就是种灾难。

3. 臃肿的消息首部

HTTP/1.1 的首部无法压缩，再加上 cookie 的存在，经常会出现首部大小比请求数据大小还大的情况。

4. 受限的优先级设置

HTTP/1.1 无法为重要的资源指定优先级，每个 HTTP 请求都是一视同仁。

在继续讨论 HTTP/2 的新功能之前，先把 HTTP/1.1 的问题列出来是有意义的。因为 HTTP/2 的某些新功能就是为了解决上述某些问题而产生的。

## Http2

HTTP 2.0 增加了新的**二进制分帧数据层**，而这一层并不兼容之前的 HTTP 1.x 服务器及客户端

采用分帧是为了将重要信息封装起来，让协议的解析方可以轻松阅读、解析并还原信息

**多路复用**，可以共享连接，不需要重复多次建立连接，多个请求可共用一个tcp连接

Http2使用多路复用```Socket```长链接方式，比http**三次握手四次挥手**效率更高


header压缩和缓存，体积更小





